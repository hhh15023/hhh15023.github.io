<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="ch_pro_001"><meta name="keywords" content="code_ch"><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><title>ch_pro_001 | Hexo</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '5.4.2'
} </script><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%93%E8%B7%AF%E6%9B%B2%E7%BA%BF%E8%A6%81%E7%B4%A0%E8%AE%A1%E7%AE%97%E4%B8%8E%E9%87%8C%E7%A8%8B%E6%A1%A9%E8%AE%A1%E7%AE%97"><span class="toc-number">1.</span> <span class="toc-text">道路曲线要素计算与里程桩计算</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E8%A7%86%E5%9B%BE%E5%88%86%E6%9E%90%E4%B8%8E%E5%8A%9F%E8%83%BD%E5%88%86%E5%B8%83"><span class="toc-number">1.0.1.</span> <span class="toc-text">1. 视图分析与功能分布</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%A7%A3%E9%87%8A"><span class="toc-number">1.0.2.</span> <span class="toc-text">2. 数据类型的解释</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-%E6%99%AE%E9%80%9A%E7%82%B9-%E5%90%8D%E7%A7%B0-X-Y"><span class="toc-number">1.0.2.1.</span> <span class="toc-text">1. 普通点(名称,X,Y)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B-%E5%90%8D%E7%A7%B0-X-Y-R-L"><span class="toc-number">1.0.2.2.</span> <span class="toc-text">2. 节点类型(名称,X,Y,R,L)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-%E9%87%8C%E7%A8%8B%E6%A1%A9-%E5%90%8D%E7%A7%B0-K-X-Y-Belong-%E5%88%86%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.0.2.3.</span> <span class="toc-text">3. 里程桩(名称,K,X,Y,Belong) 分三种类型</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-%E4%B8%80%E8%88%AC%E6%9B%B2%E7%BA%BF"><span class="toc-number">1.0.2.4.</span> <span class="toc-text">4 .一般曲线</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-%E7%89%B9%E6%AE%8A%E6%9B%B2%E7%BA%BF"><span class="toc-number">1.0.2.5.</span> <span class="toc-text">5. 特殊曲线</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E8%AE%A1%E7%AE%97%E5%8A%9F%E8%83%BD%E7%B1%BB-%E5%AE%9A%E4%B9%89%E5%90%8E%E5%8F%AA%E9%9C%80%E8%BE%93%E5%85%A5%E6%95%B0%E6%8D%AE%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%8E%B7%E5%BE%97%E8%AE%A1%E7%AE%97%E7%BB%93%E6%9E%9C"><span class="toc-number">1.0.3.</span> <span class="toc-text">3. 计算功能类(定义后只需输入数据就可以获得计算结果)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E7%95%8C%E9%9D%A2%E5%87%BD%E6%95%B0%E5%8A%9F%E8%83%BD"><span class="toc-number">1.0.4.</span> <span class="toc-text">4. 界面函数功能</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%AE%9A%E4%B9%89-%E5%90%8E%E7%BB%AD%E4%BD%BF%E7%94%A8"><span class="toc-number">1.0.4.1.</span> <span class="toc-text">1. 初始化定义(后续使用)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.4.2.</span> <span class="toc-text">2.读取文件函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.4.3.</span> <span class="toc-text">3. 写入文件函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-%E6%B8%85%E7%A9%BA%E5%87%BD%E6%95%B0-%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.0.4.4.</span> <span class="toc-text">4. 清空函数(初始化)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-%E8%AE%A1%E7%AE%97%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.4.5.</span> <span class="toc-text">5. 计算函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6-%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.4.6.</span> <span class="toc-text">6. 显示数据函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#7-%E6%8A%A5%E5%91%8A%E6%98%BE%E7%A4%BA%E5%87%BD%E6%95%B0-%E8%BE%83%E4%B8%BA%E7%BB%9F%E4%B8%80"><span class="toc-number">1.0.4.7.</span> <span class="toc-text">7. 报告显示函数(较为统一)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#8-%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.4.8.</span> <span class="toc-text">8. 数据格式转换函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E8%A6%81%E6%B1%82%E5%92%8C%E6%80%BB%E7%BB%93"><span class="toc-number">1.1.</span> <span class="toc-text">5. 要求和总结</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A6%81%E6%B1%82%EF%BC%9A"><span class="toc-number">1.1.1.</span> <span class="toc-text">要求：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-number">1.1.2.</span> <span class="toc-text">总结：</span></a></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">John Doe</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">3</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">2</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Hexo</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right"></span></div><div id="post-info"><div id="post-title">ch_pro_001</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-05-10</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h3 id="道路曲线要素计算与里程桩计算"><a href="#道路曲线要素计算与里程桩计算" class="headerlink" title="道路曲线要素计算与里程桩计算"></a>道路曲线要素计算与里程桩计算</h3><h5 id="1-视图分析与功能分布"><a href="#1-视图分析与功能分布" class="headerlink" title="1. 视图分析与功能分布"></a>1. 视图分析与功能分布</h5><p>​    <img src="https://s2.loli.net/2022/05/10/Nur5BfJQTtCs12W.png" alt="image-20220510233247501"></p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1、2、3、10 属于toolstrip 的按钮绑定不同的功能 （快捷显示常用功能）</span><br><span class="line"><span class="code">	1 - 打开资源管理器 然后选择流程 读取文件</span></span><br><span class="line"><span class="code">	2 - 确定保存数据和保存类型 打开资源管理器并命名 保存</span></span><br><span class="line"><span class="code">	3 - 清空4、5</span></span><br><span class="line"><span class="code">	10 - 显示里程桩间隔</span></span><br><span class="line"><span class="code">4、5 属于tabControl 中的控件 </span></span><br><span class="line"><span class="code">	4- datagridview 数据视窗 读取后显示数据 与清空有关</span></span><br><span class="line"><span class="code">	5- 计算过程保存的文档显示 后续保存 与清空有关</span></span><br><span class="line"><span class="code">6、7、8、9 属于menuStrip 中的按钮绑定不同的功能</span></span><br><span class="line"><span class="code">	6- 下拉中还存在&quot;打开&quot;, &quot;保存&quot; ,&quot;退出&quot; 不同功能不同实现</span></span><br><span class="line"><span class="code">	7- 计算功能 对数据进行运用</span></span><br><span class="line"><span class="code">	8- 下拉中存在”清空&quot;</span></span><br><span class="line"><span class="code">	9- 给出说明过程</span></span><br></pre></td></tr></table></figure>

<h5 id="2-数据类型的解释"><a href="#2-数据类型的解释" class="headerlink" title="2. 数据类型的解释"></a>2. 数据类型的解释</h5><h6 id="1-普通点-名称-X-Y"><a href="#1-普通点-名称-X-Y" class="headerlink" title="1. 普通点(名称,X,Y)"></a>1. 普通点(名称,X,Y)</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Point</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> id;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> X, Y;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Point</span>(<span class="params"><span class="built_in">string</span> id, <span class="built_in">double</span> X, <span class="built_in">double</span> Y</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.id = id;</span><br><span class="line">            <span class="keyword">this</span>.X = X;</span><br><span class="line">            <span class="keyword">this</span>.Y = Y;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h6 id="2-节点类型-名称-X-Y-R-L"><a href="#2-节点类型-名称-X-Y-R-L" class="headerlink" title="2. 节点类型(名称,X,Y,R,L)"></a>2. 节点类型(名称,X,Y,R,L)</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Node</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> id;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> X, Y;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> R, L;   <span class="comment">//圆曲线半径和缓曲线长</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span>(<span class="params"><span class="built_in">string</span> id, <span class="built_in">double</span> X, <span class="built_in">double</span> Y,<span class="built_in">double</span> R ,<span class="built_in">double</span> L</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.id = id;</span><br><span class="line">            <span class="keyword">this</span>.X = X;</span><br><span class="line">            <span class="keyword">this</span>.Y = Y;</span><br><span class="line">            <span class="keyword">this</span>.R = R;</span><br><span class="line">            <span class="keyword">this</span>.L = L;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h6 id="3-里程桩-名称-K-X-Y-Belong-分三种类型"><a href="#3-里程桩-名称-K-X-Y-Belong-分三种类型" class="headerlink" title="3. 里程桩(名称,K,X,Y,Belong) 分三种类型"></a>3. 里程桩(名称,K,X,Y,Belong) 分三种类型</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Milepost</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> id;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> K;       <span class="comment">//里程</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> X, Y;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> belong;  <span class="comment">//所属线路类型</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 求直线上的里程桩</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Milepost</span>(<span class="params"><span class="built_in">double</span> K, <span class="built_in">double</span> x, <span class="built_in">double</span> y, <span class="built_in">string</span> belong</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.id = <span class="string">&quot;K-&quot;</span> + K.ToString(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">            <span class="keyword">this</span>.K = K;</span><br><span class="line">            <span class="keyword">this</span>.X = x;</span><br><span class="line">            <span class="keyword">this</span>.Y = y;</span><br><span class="line">            <span class="keyword">this</span>.belong = belong;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 求圆曲线上的里程桩</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Milepost</span>(<span class="params"><span class="built_in">double</span> Ki,<span class="built_in">double</span> Kzy, <span class="built_in">double</span> alpha, <span class="built_in">double</span> alpha1, Point ZY, Node JDi, <span class="built_in">string</span> belong</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//独立坐标</span></span><br><span class="line">            <span class="built_in">double</span> phii = (Ki - Kzy) / JDi.R;</span><br><span class="line">            <span class="built_in">double</span> xi = JDi.R * Math.Sin(phii);</span><br><span class="line">            <span class="built_in">double</span> yi = JDi.R * (<span class="number">1</span> - Math.Cos(phii));</span><br><span class="line"></span><br><span class="line">            <span class="comment">//α是右偏转角还是左偏转角情况</span></span><br><span class="line">            <span class="keyword">if</span> (alpha &lt; <span class="number">0</span>) &#123; yi = -yi; &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.id = <span class="string">&quot;K-&quot;</span> + Ki.ToString(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">            <span class="keyword">this</span>.K = Ki;</span><br><span class="line">            <span class="keyword">this</span>.X = ZY.X + xi * Math.Cos(alpha1) - yi * Math.Sin(alpha1);</span><br><span class="line">            <span class="keyword">this</span>.Y = ZY.Y + xi * Math.Sin(alpha1) + yi * Math.Cos(alpha1);</span><br><span class="line">            <span class="keyword">this</span>.belong = belong;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 求缓和曲面上的里程桩</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Milepost</span>(<span class="params"><span class="built_in">double</span> Ki, <span class="built_in">double</span> Kzh, <span class="built_in">double</span> Khz, <span class="built_in">double</span> Khy, <span class="built_in">double</span> Kyh, <span class="built_in">double</span> m,<span class="built_in">double</span> P, <span class="built_in">double</span> beita0,<span class="built_in">double</span> alpha, <span class="built_in">double</span> alphaZH,<span class="built_in">double</span> alphaHZ, Point ZH,Point HZ, Node JDi, <span class="built_in">string</span> belong</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//弧长和独立坐标</span></span><br><span class="line">            <span class="built_in">double</span> Li, xi, yi;    </span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (Ki &lt;= Kyh)</span><br><span class="line">            &#123;</span><br><span class="line">                Li = Ki - Kzh;</span><br><span class="line">                <span class="keyword">if</span> (Ki &lt;= Khy)</span><br><span class="line">                &#123;</span><br><span class="line">                    xi = Li - Math.Pow(Li, <span class="number">5</span>) / <span class="number">40.0</span> / JDi.R / JDi.R / JDi.L / JDi.L;</span><br><span class="line">                    yi = Math.Pow(Li, <span class="number">3</span>) / <span class="number">6.0</span> / JDi.R / JDi.L;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">double</span> phii = beita0 + (Li - JDi.L) / JDi.R;</span><br><span class="line">                    xi = m + JDi.R * Math.Sin(phii);</span><br><span class="line">                    yi = P + JDi.R * (<span class="number">1</span> - Math.Cos(phii));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//α是右偏转角还是左偏转角情况</span></span><br><span class="line">                <span class="keyword">if</span> (alpha &lt; <span class="number">0</span>) &#123; yi = -yi; &#125;</span><br><span class="line">                <span class="keyword">this</span>.X = ZH.X + xi * Math.Cos(alphaZH) - yi * Math.Sin(alphaZH);</span><br><span class="line">                <span class="keyword">this</span>.Y = ZH.Y + xi * Math.Sin(alphaZH) + yi * Math.Cos(alphaZH);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Li = Khz - Ki;</span><br><span class="line">                xi = Li - Math.Pow(Li, <span class="number">5</span>) / <span class="number">40.0</span> / JDi.R / JDi.L / JDi.L;</span><br><span class="line">                yi = Math.Pow(Li, <span class="number">3</span>) / <span class="number">6.0</span> / JDi.R / JDi.L;</span><br><span class="line">                <span class="keyword">this</span>.X = HZ.X + xi * Math.Cos(alphaHZ) + yi * Math.Sin(alphaHZ);</span><br><span class="line">                <span class="keyword">this</span>.Y = HZ.Y + xi * Math.Cos(alphaHZ) - yi * Math.Cos(alphaHZ);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>.id = <span class="string">&quot;K-&quot;</span> + Ki.ToString(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">            <span class="keyword">this</span>.K = Ki;</span><br><span class="line">            <span class="keyword">this</span>.belong = belong;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h6 id="4-一般曲线"><a href="#4-一般曲线" class="headerlink" title="4 .一般曲线"></a>4 .一般曲线</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Curve</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> id;</span><br><span class="line">        <span class="keyword">public</span> Point ZY, YZ;                  <span class="comment">//直圆点，圆直点</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> Kjd, Kzy, Kyz;          <span class="comment">//交点JDi、直圆点和圆直点的里程</span></span><br><span class="line">        <span class="keyword">public</span> Milepost QZ;                   <span class="comment">//曲中点坐标和里程</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> T, L, E, q;             <span class="comment">//圆曲线要素：切线，曲线长，外矢径，切曲差</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> alpha1, alpha2, alpha;  <span class="comment">//前方位角，后方位角，线路转角</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 圆曲线计算（交点，前X坐标，前Y坐标，后X坐标，后Y坐标）</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Curve</span>(<span class="params">Node JDi, <span class="built_in">double</span> Kjd, <span class="built_in">double</span> X1, <span class="built_in">double</span> Y1, <span class="built_in">double</span> X2, <span class="built_in">double</span> Y2</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.id = JDi.id;</span><br><span class="line">            <span class="keyword">this</span>.Kjd = Kjd;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//线路转角</span></span><br><span class="line">            <span class="keyword">this</span>.alpha1 = Math.Atan2(JDi.Y - Y1, JDi.X - X1);</span><br><span class="line">            <span class="keyword">this</span>.alpha2 = Math.Atan2(Y2 - JDi.Y, X2 - JDi.X);</span><br><span class="line">            <span class="keyword">if</span>((alpha2 - alpha1 &gt;= <span class="number">0</span> &amp;&amp; alpha2 - alpha1 &lt; Math.PI) || (alpha2 - alpha1 &gt; -Math.PI &amp;&amp; alpha2 - alpha1 &lt;= <span class="number">0</span>)) &#123; <span class="keyword">this</span>.alpha = alpha2 - alpha1; &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(alpha2 - alpha1 &gt;= Math.PI &amp;&amp; alpha2 - alpha1 &lt;= <span class="number">2</span> * Math.PI) &#123; <span class="keyword">this</span>.alpha = alpha2 - alpha1 - <span class="number">2</span> * Math.PI; &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(alpha2 - alpha1 &gt;= <span class="number">-2</span> * Math.PI &amp;&amp; alpha2 - alpha1 &lt;= -Math.PI) &#123; <span class="keyword">this</span>.alpha = alpha2 - alpha1 + <span class="number">2</span> * Math.PI; &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//圆曲线要素</span></span><br><span class="line">            <span class="keyword">this</span>.T = JDi.R * Math.Tan(Math.Abs(alpha) / <span class="number">2.0</span>);</span><br><span class="line">            <span class="keyword">this</span>.L = JDi.R * Math.Abs(alpha);</span><br><span class="line">            <span class="keyword">this</span>.E = JDi.R * (<span class="number">1.0</span> / Math.Cos(Math.Abs(alpha) / <span class="number">2.0</span>) - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">this</span>.q = <span class="number">2.0</span> * T - L;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//圆曲线主点里程</span></span><br><span class="line">            <span class="keyword">this</span>.Kzy = Kjd - T;</span><br><span class="line">            <span class="keyword">this</span>.Kyz = Kzy + L;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//主点ZY、YZ坐标</span></span><br><span class="line">            <span class="keyword">this</span>.ZY = <span class="keyword">new</span> Point(id, JDi.X - T * Math.Cos(alpha1), JDi.Y - T * Math.Sin(alpha1));</span><br><span class="line">            <span class="keyword">this</span>.YZ = <span class="keyword">new</span> Point(id, JDi.X + T * Math.Cos(alpha2), JDi.Y + T * Math.Sin(alpha2));</span><br><span class="line"></span><br><span class="line">            <span class="comment">//QZ</span></span><br><span class="line">            <span class="keyword">this</span>.QZ = <span class="keyword">new</span> Milepost(Kzy + L / <span class="number">2.0</span>, Kzy, alpha, alpha1, ZY, JDi, <span class="string">&quot;圆曲线&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h6 id="5-特殊曲线"><a href="#5-特殊曲线" class="headerlink" title="5. 特殊曲线"></a>5. 特殊曲线</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Ecurve</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> id;</span><br><span class="line">        <span class="keyword">public</span> Point ZH, HZ;                     <span class="comment">//直缓点，缓直点</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> Kjd, Kzh, Khz;             <span class="comment">//交点JDi,直缓点，缓圆点，圆缓点，缓直点的里程</span></span><br><span class="line">        <span class="keyword">public</span> Milepost QZ, HY, YH;              <span class="comment">//曲中点，缓圆点，圆缓点坐标和里程</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> m, P, beita0;              <span class="comment">//缓和曲面参数</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> Th, Lh, Eh, q, Ls;         <span class="comment">//缓和曲线要素：切线，曲线长，外矢径，切曲差，缓和曲线长</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> alphaZH, alphaHZ, alpha;     <span class="comment">//前方位角，后方位角，线路转角</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Ecurve</span>(<span class="params">Node JDi, <span class="built_in">double</span> Kjd, <span class="built_in">double</span> X1, <span class="built_in">double</span> Y1, <span class="built_in">double</span> X2, <span class="built_in">double</span> Y2</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.id = JDi.id;</span><br><span class="line">            <span class="keyword">this</span>.Ls = JDi.L;</span><br><span class="line">            <span class="keyword">this</span>.Kjd = Kjd;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//线路转角</span></span><br><span class="line">            <span class="keyword">this</span>.alphaZH = Math.Atan2(JDi.Y - Y1, JDi.X - X1);</span><br><span class="line">            <span class="keyword">this</span>.alphaHZ = Math.Atan2(Y2 - JDi.Y, X2 - JDi.X);</span><br><span class="line">            <span class="keyword">if</span> ((alphaHZ - alphaZH &gt;= <span class="number">0</span> &amp;&amp; alphaHZ - alphaZH &lt; Math.PI) || (alphaHZ - alphaZH &gt; -Math.PI &amp;&amp; alphaHZ - alphaZH &lt;= <span class="number">0</span>)) &#123; <span class="keyword">this</span>.alpha = alphaHZ - alphaZH; &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (alphaHZ - alphaZH &gt;= Math.PI &amp;&amp; alphaHZ - alphaZH &lt;= <span class="number">2</span> * Math.PI) &#123; <span class="keyword">this</span>.alpha = alphaHZ - alphaZH - <span class="number">2</span> * Math.PI; &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (alphaHZ - alphaZH &gt;= <span class="number">-2</span> * Math.PI &amp;&amp; alphaHZ - alphaZH &lt;= -Math.PI) &#123; <span class="keyword">this</span>.alpha = alphaHZ - alphaZH + <span class="number">2</span> * Math.PI; &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//计算缓和曲线参数</span></span><br><span class="line">            <span class="keyword">this</span>.m = Ls / <span class="number">2.0</span> - Math.Pow(Ls, <span class="number">3</span>) / <span class="number">240.0</span> / Math.Pow(JDi.R, <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">this</span>.P = Ls * Ls / <span class="number">24.0</span> / JDi.R;</span><br><span class="line">            <span class="keyword">this</span>.beita0 = Ls / <span class="number">2.0</span> / JDi.R;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//计算缓和曲面要素</span></span><br><span class="line">            <span class="keyword">this</span>.Th = m + (JDi.R + P) * Math.Tan(Math.Abs(alpha) / <span class="number">2.0</span>);</span><br><span class="line">            <span class="keyword">this</span>.Lh = JDi.R * (Math.Abs(alpha) - <span class="number">2.0</span> * beita0) + <span class="number">2.0</span> * Ls;</span><br><span class="line">            <span class="keyword">this</span>.Eh = (JDi.R + P) * (<span class="number">1.0</span> / Math.Cos(Math.Abs(alpha) / <span class="number">2.0</span>)) - JDi.R;</span><br><span class="line">            <span class="keyword">this</span>.q = <span class="number">2.0</span> * Th - Lh;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//曲线主点里程计算</span></span><br><span class="line">            <span class="keyword">this</span>.Kzh = Kjd - Th;</span><br><span class="line">            <span class="keyword">this</span>.Khz = Kzh + Lh;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//曲线线路主点ZH、HZ坐标计算</span></span><br><span class="line">            <span class="keyword">this</span>.ZH = <span class="keyword">new</span> Point(id, JDi.X - Th * Math.Cos(alphaZH), JDi.Y - Th * Math.Sin(alphaZH));</span><br><span class="line">            <span class="keyword">this</span>.HZ = <span class="keyword">new</span> Point(id, JDi.X + Th * Math.Cos(alphaHZ), JDi.Y + Th * Math.Sin(alphaHZ));</span><br><span class="line"></span><br><span class="line">            <span class="comment">//QZ、HY、YH</span></span><br><span class="line">            <span class="keyword">this</span>.QZ = <span class="keyword">new</span> Milepost(Kzh + Lh / <span class="number">2.0</span>, Kzh, Khz, Kzh + JDi.L, Kzh + Lh - JDi.L, m, P, beita0, alpha, alphaZH, alphaHZ, ZH, HZ, JDi, <span class="string">&quot;缓和曲面&quot;</span>);</span><br><span class="line">            <span class="keyword">this</span>.HY = <span class="keyword">new</span> Milepost(Kzh + Ls, Kzh, Khz, Kzh + JDi.L, Kzh + Lh - JDi.L, m, P, beita0, alpha, alphaZH, alphaHZ, ZH, HZ, JDi, <span class="string">&quot;缓和曲面&quot;</span>);</span><br><span class="line">            <span class="keyword">this</span>.YH = <span class="keyword">new</span> Milepost(Kzh + Lh - Ls, Kzh, Khz, Kzh + JDi.L, Kzh + Lh - JDi.L, m, P, beita0, alpha, alphaZH, alphaHZ, ZH, HZ, JDi, <span class="string">&quot;缓和曲面&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h5 id="3-计算功能类-定义后只需输入数据就可以获得计算结果"><a href="#3-计算功能类-定义后只需输入数据就可以获得计算结果" class="headerlink" title="3. 计算功能类(定义后只需输入数据就可以获得计算结果)"></a>3. 计算功能类(定义后只需输入数据就可以获得计算结果)</h5><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Final</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">double</span> K;                                         <span class="comment">//道路总长</span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> curveNum, EcurveNum;                          <span class="comment">//圆曲线数目、缓曲线数目</span></span><br><span class="line">        <span class="keyword">public</span> List&lt;Curve&gt; curves = <span class="keyword">new</span> List&lt;Curve&gt;();           <span class="comment">//曲面</span></span><br><span class="line">        <span class="keyword">public</span> List&lt;Ecurve&gt; ecurves = <span class="keyword">new</span> List&lt;Ecurve&gt;();        <span class="comment">//缓和曲面</span></span><br><span class="line">        <span class="keyword">public</span> List&lt;Milepost&gt; mileposts = <span class="keyword">new</span> List&lt;Milepost&gt;();  <span class="comment">//里程桩</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 里程桩计算（间隔距离，起点和终点，交点）</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Final</span>(<span class="params"><span class="built_in">double</span> dL, Point[] points, List&lt;Node&gt; JDi</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//赋初始值</span></span><br><span class="line">            <span class="keyword">this</span>.K = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.curveNum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.EcurveNum = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">//到当前循环交点曲线的前端点和后端点的总里程</span></span><br><span class="line">            <span class="built_in">double</span> Kz = <span class="number">0</span>, Ky = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">//曲线计算的起始点坐标和交点Jdi的里程</span></span><br><span class="line">            <span class="built_in">double</span> Px = <span class="number">0</span>, Py = <span class="number">0</span>, Kjd;</span><br><span class="line">            <span class="comment">//按交点循环计算</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; JDi.Count; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//判断是否符合缓和曲面</span></span><br><span class="line">                <span class="keyword">if</span> (JDi[i].L != <span class="number">0.0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i == <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        Px = points[<span class="number">0</span>].X;</span><br><span class="line">                        Py = points[<span class="number">0</span>].Y;</span><br><span class="line">                        Kjd = Ky + Math.Sqrt(Math.Pow(Px - JDi[i].X, <span class="number">2</span>) + Math.Pow(Py - JDi[i].Y, <span class="number">2</span>));</span><br><span class="line">                        ecurves.Add(<span class="keyword">new</span> Ecurve(JDi[i], Kjd ,Px, Py, JDi[i + <span class="number">1</span>].X, JDi[i + <span class="number">1</span>].Y));</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (i == JDi.Count() - <span class="number">1</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        Kjd = Ky + Math.Sqrt(Math.Pow(Px - JDi[i].X, <span class="number">2</span>) + Math.Pow(Py - JDi[i].Y, <span class="number">2</span>));</span><br><span class="line">                        ecurves.Add(<span class="keyword">new</span> Ecurve(JDi[i], Kjd, JDi[i - <span class="number">1</span>].X, JDi[i - <span class="number">1</span>].Y, points[<span class="number">1</span>].X, points[<span class="number">1</span>].Y));</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        Kjd = Ky + Math.Sqrt(Math.Pow(Px - JDi[i].X, <span class="number">2</span>) + Math.Pow(Py - JDi[i].Y, <span class="number">2</span>));</span><br><span class="line">                        ecurves.Add(<span class="keyword">new</span> Ecurve(JDi[i], Kjd, JDi[i - <span class="number">1</span>].X, JDi[i - <span class="number">1</span>].Y, JDi[i + <span class="number">1</span>].X, JDi[i + <span class="number">1</span>].Y));</span><br><span class="line">                    &#125;</span><br><span class="line">                    EcurveNum += <span class="number">1</span>;</span><br><span class="line">                    Kz = ecurves[EcurveNum - <span class="number">1</span>].Kzh;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (K - Ky == <span class="number">0</span>)&#123; K += dL; &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//里程桩在直线上</span></span><br><span class="line">                    <span class="keyword">while</span> (K &lt;= Kz)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="built_in">double</span> x = Px + (K - Ky) * Math.Sin(ecurves[EcurveNum - <span class="number">1</span>].alphaZH);</span><br><span class="line">                        <span class="built_in">double</span> y = Py + (K - Ky) * Math.Cos(ecurves[EcurveNum - <span class="number">1</span>].alphaZH);</span><br><span class="line">                        <span class="keyword">this</span>.mileposts.Add(<span class="keyword">new</span> Milepost(K, x, y, <span class="string">&quot;直线&quot;</span>));</span><br><span class="line">                        <span class="comment">//当前道路总长+dL</span></span><br><span class="line">                        K += dL;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//里程桩在曲线上</span></span><br><span class="line">                    <span class="keyword">while</span> (K - Kz &lt;= ecurves[EcurveNum - <span class="number">1</span>].Lh)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">this</span>.mileposts.Add(<span class="keyword">new</span> Milepost(K, Kz, ecurves[EcurveNum - <span class="number">1</span>].Khz, ecurves[EcurveNum - <span class="number">1</span>].HY.K, ecurves[EcurveNum - <span class="number">1</span>].YH.K, </span><br><span class="line">                            ecurves[EcurveNum - <span class="number">1</span>].m, ecurves[EcurveNum - <span class="number">1</span>].P, ecurves[EcurveNum - <span class="number">1</span>].beita0, ecurves[EcurveNum - <span class="number">1</span>].alpha, </span><br><span class="line">                            ecurves[EcurveNum - <span class="number">1</span>].alphaZH, ecurves[EcurveNum - <span class="number">1</span>].alphaHZ, ecurves[EcurveNum - <span class="number">1</span>].ZH, ecurves[EcurveNum - <span class="number">1</span>].HZ, </span><br><span class="line">                            JDi[i], <span class="string">&quot;缓和曲线&quot;</span>));</span><br><span class="line">                        K += dL;</span><br><span class="line">                    &#125;</span><br><span class="line">                    Ky = ecurves[EcurveNum - <span class="number">1</span>].Khz;</span><br><span class="line">                    Px = ecurves[EcurveNum - <span class="number">1</span>].HZ.X;</span><br><span class="line">                    Py = ecurves[EcurveNum - <span class="number">1</span>].HZ.Y;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i == <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        Px = points[<span class="number">0</span>].X;</span><br><span class="line">                        Py = points[<span class="number">0</span>].Y;</span><br><span class="line">                        Kjd = Ky + Math.Sqrt(Math.Pow(Px - JDi[i].X, <span class="number">2</span>) + Math.Pow(Py - JDi[i].Y, <span class="number">2</span>));</span><br><span class="line">                        curves.Add(<span class="keyword">new</span> Curve(JDi[i], Kjd, Px, Py, JDi[i + <span class="number">1</span>].X, JDi[i + <span class="number">1</span>].Y));</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (i == JDi.Count() - <span class="number">1</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        Kjd = Ky + Math.Sqrt(Math.Pow(Px - JDi[i].X, <span class="number">2</span>) + Math.Pow(Py - JDi[i].Y, <span class="number">2</span>));</span><br><span class="line">                        curves.Add(<span class="keyword">new</span> Curve(JDi[i], Kjd, JDi[i - <span class="number">1</span>].X, JDi[i - <span class="number">1</span>].Y, points[<span class="number">1</span>].X, points[<span class="number">1</span>].Y));</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        Kjd = Ky + Math.Sqrt(Math.Pow(Px - JDi[i].X, <span class="number">2</span>) + Math.Pow(Py - JDi[i].Y, <span class="number">2</span>));</span><br><span class="line">                        curves.Add(<span class="keyword">new</span> Curve(JDi[i], Kjd, JDi[i - <span class="number">1</span>].X, JDi[i - <span class="number">1</span>].Y, JDi[i + <span class="number">1</span>].X, JDi[i + <span class="number">1</span>].Y));</span><br><span class="line">                    &#125;</span><br><span class="line">                    curveNum += <span class="number">1</span>;</span><br><span class="line">                    Kz = curves[curveNum - <span class="number">1</span>].Kzy;</span><br><span class="line">                    <span class="keyword">if</span> (K - Ky == <span class="number">0</span>) &#123; K += dL; &#125;</span><br><span class="line">                    <span class="comment">//里程桩在直线上</span></span><br><span class="line">                    <span class="keyword">while</span> (K &lt;= Kz)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="built_in">double</span> x = Px + (K - Ky) * Math.Sin(curves[curveNum - <span class="number">1</span>].alpha1);</span><br><span class="line">                        <span class="built_in">double</span> y = Py + (K - Ky) * Math.Cos(curves[curveNum - <span class="number">1</span>].alpha1);</span><br><span class="line">                        <span class="keyword">this</span>.mileposts.Add(<span class="keyword">new</span> Milepost(K, x, y, <span class="string">&quot;直线&quot;</span>));</span><br><span class="line">                        <span class="comment">//当前道路总长+dL</span></span><br><span class="line">                        K += dL;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">//里程桩在曲线上</span></span><br><span class="line">                    <span class="keyword">while</span> (K - Kz &lt;= ecurves[curveNum - <span class="number">1</span>].Lh)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">this</span>.mileposts.Add(<span class="keyword">new</span> Milepost(K, Kz, curves[curveNum - <span class="number">1</span>].alpha, curves[curveNum - <span class="number">1</span>].alpha1, curves[curveNum - <span class="number">1</span>].ZY, </span><br><span class="line">                            JDi[i], <span class="string">&quot;圆曲线&quot;</span>));</span><br><span class="line">                        K += dL;</span><br><span class="line">                    &#125;</span><br><span class="line">                    Ky = curves[curveNum - <span class="number">1</span>].Kyz;</span><br><span class="line">                    Px = curves[curveNum - <span class="number">1</span>].YZ.X;</span><br><span class="line">                    Py = curves[curveNum - <span class="number">1</span>].YZ.Y;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            Kz = Ky + Math.Sqrt(Math.Pow(Px - points[<span class="number">1</span>].X, <span class="number">2</span>) + Math.Pow(Py - points[<span class="number">1</span>].Y, <span class="number">2</span>));</span><br><span class="line">            <span class="keyword">while</span> (K &lt;= Kz)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">double</span> x = Px + (K - Ky) * Math.Sin(curves[curveNum - <span class="number">1</span>].alpha1);</span><br><span class="line">                <span class="built_in">double</span> y = Py + (K - Ky) * Math.Cos(curves[curveNum - <span class="number">1</span>].alpha1);</span><br><span class="line">                <span class="keyword">this</span>.mileposts.Add(<span class="keyword">new</span> Milepost(K, x, y, <span class="string">&quot;直线&quot;</span>));</span><br><span class="line">                <span class="comment">//当前道路总长+dL</span></span><br><span class="line">                K += dL;</span><br><span class="line">            &#125;</span><br><span class="line">            K = K - dL + Kz % dL;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-界面函数功能"><a href="#4-界面函数功能" class="headerlink" title="4. 界面函数功能"></a>4. 界面函数功能</h5><h6 id="1-初始化定义-后续使用"><a href="#1-初始化定义-后续使用" class="headerlink" title="1. 初始化定义(后续使用)"></a>1. 初始化定义(后续使用)</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Point[] points = <span class="keyword">new</span> Point[<span class="number">2</span>];       <span class="comment">//起始点和终点</span></span><br><span class="line">List&lt;Node&gt; nodes = <span class="keyword">new</span> List&lt;Node&gt;(); <span class="comment">//交点数据</span></span><br><span class="line">Final Final;                         <span class="comment">//计算结果</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Form1</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    InitializeComponent();</span><br><span class="line">    toolStripTextBox1.Text = <span class="string">&quot;20&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="2-读取文件函数"><a href="#2-读取文件函数" class="headerlink" title="2.读取文件函数"></a>2.读取文件函数</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Readtxt</span>()</span></span><br><span class="line">       &#123;	<span class="comment">// openFileDialog</span></span><br><span class="line">           OpenFileDialog open = <span class="keyword">new</span> OpenFileDialog();</span><br><span class="line">           open.Filter = <span class="string">&quot;(文本文件)|*.txt&quot;</span>;</span><br><span class="line">           <span class="keyword">if</span> (open.ShowDialog() == DialogResult.OK)</span><br><span class="line">           &#123;</span><br><span class="line">               StreamReader reader = <span class="keyword">new</span> StreamReader(open.FileName);</span><br><span class="line">               <span class="built_in">int</span> i = <span class="number">0</span>;</span><br><span class="line">               <span class="keyword">while</span> (!reader.EndOfStream)</span><br><span class="line">               &#123;</span><br><span class="line">                   <span class="built_in">string</span>[] vs = reader.ReadLine().Split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">                   <span class="comment">// 起始点</span></span><br><span class="line">                   <span class="keyword">if</span> (vs.Count() == <span class="number">3</span>)</span><br><span class="line">                   &#123;</span><br><span class="line">                       points[i] = <span class="keyword">new</span> Point(vs[<span class="number">0</span>], Convert.ToDouble(vs[<span class="number">1</span>]),                                 Convert.ToDouble(vs[<span class="number">2</span>]));</span><br><span class="line">                       i += <span class="number">1</span>;</span><br><span class="line">                   &#125;</span><br><span class="line">                   <span class="comment">// 过程点</span></span><br><span class="line">                   <span class="keyword">if</span> (vs.Count() == <span class="number">5</span>)</span><br><span class="line">                   &#123;</span><br><span class="line">                       nodes.Add(<span class="keyword">new</span> Node(vs[<span class="number">0</span>], Convert.ToDouble(vs[<span class="number">1</span>]), 			                         Convert.ToDouble(vs[<span class="number">2</span>]), Convert.ToDouble(vs[<span class="number">3</span>]), </span><br><span class="line">                       Convert.ToDouble(vs[<span class="number">4</span>])));</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">               reader.Close();</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span></span><br><span class="line">           &#123;</span><br><span class="line">               toolStripStatusLabel1.Text = <span class="string">&quot;文件打开失败&quot;</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<h6 id="3-写入文件函数"><a href="#3-写入文件函数" class="headerlink" title="3. 写入文件函数"></a>3. 写入文件函数</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> 保存ToolStripMenuItem_Click(<span class="built_in">object</span> sender, EventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            SaveFileDialog save = <span class="keyword">new</span> SaveFileDialog();</span><br><span class="line">            save.Filter = <span class="string">&quot;(文本文件)|*.txt&quot;</span>;</span><br><span class="line">            <span class="keyword">if</span> (save.ShowDialog() == DialogResult.OK)</span><br><span class="line">            &#123;</span><br><span class="line">                StreamWriter writer = <span class="keyword">new</span> StreamWriter(save.FileName);</span><br><span class="line">                writer.Write(richTextBox1.Text);  	<span class="comment">// 将过程写入文档后保存</span></span><br><span class="line">                writer.Close();</span><br><span class="line">                toolStripStatusLabel1.Text = <span class="string">&quot;保存成功&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                toolStripStatusLabel1.Text = <span class="string">&quot;保存失败&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h6 id="4-清空函数-初始化"><a href="#4-清空函数-初始化" class="headerlink" title="4. 清空函数(初始化)"></a>4. 清空函数(初始化)</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">private void 清空ToolStripMenuItem_Click(object sender, EventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            points = new Point[2];       //起始点和终点</span><br><span class="line">            nodes = new List&lt;Node&gt;();    //交点数据</span><br><span class="line">            Final = null;</span><br><span class="line">            richTextBox1.Text = &quot;&quot;;</span><br><span class="line">            dataGridView1.Columns.Clear();</span><br><span class="line">            toolStripStatusLabel1.Text = &quot;清空完成&quot;;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h6 id="5-计算函数"><a href="#5-计算函数" class="headerlink" title="5. 计算函数"></a>5. 计算函数</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> 计算ToolStripMenuItem_Click(<span class="built_in">object</span> sender, EventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                Final = <span class="keyword">new</span> Final(Convert.ToDouble(toolStripTextBox1.Text), points, nodes);</span><br><span class="line">                richTextBox1.Text = Report();</span><br><span class="line">                tabControl1.SelectedTab = tabPage2;</span><br><span class="line">                toolStripStatusLabel1.Text = <span class="string">&quot;计算成功&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span></span><br><span class="line">            &#123;</span><br><span class="line">                toolStripStatusLabel1.Text = <span class="string">&quot;计算失败&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h6 id="6-显示数据函数"><a href="#6-显示数据函数" class="headerlink" title="6. 显示数据函数"></a>6. 显示数据函数</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">private</span> DataTable <span class="title">ShowTable</span>()		<span class="comment">// DataTable的使用</span></span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//建立表格列</span></span><br><span class="line">            DataTable table = <span class="keyword">new</span> DataTable();</span><br><span class="line">            table.Columns.Add(<span class="string">&quot;点号&quot;</span>);</span><br><span class="line">            table.Columns.Add(<span class="string">&quot;X坐标&quot;</span>);</span><br><span class="line">            table.Columns.Add(<span class="string">&quot;Y坐标&quot;</span>);</span><br><span class="line">            table.Columns.Add(<span class="string">&quot;圆曲线半径&quot;</span>);</span><br><span class="line">            table.Columns.Add(<span class="string">&quot;缓曲线长&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//显示起点坐标</span></span><br><span class="line">            DataRow row = table.NewRow();</span><br><span class="line">            row[<span class="string">&quot;点号&quot;</span>] = points[<span class="number">0</span>].id;</span><br><span class="line">            row[<span class="string">&quot;X坐标&quot;</span>] = points[<span class="number">0</span>].X;</span><br><span class="line">            row[<span class="string">&quot;Y坐标&quot;</span>] = points[<span class="number">0</span>].Y;</span><br><span class="line">            table.Rows.Add(row);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//显示交点坐标</span></span><br><span class="line">            <span class="keyword">foreach</span>(Node node <span class="keyword">in</span> nodes)</span><br><span class="line">            &#123;</span><br><span class="line">                row = table.NewRow();</span><br><span class="line">                row[<span class="string">&quot;点号&quot;</span>] = node.id;</span><br><span class="line">                row[<span class="string">&quot;X坐标&quot;</span>] = node.X;</span><br><span class="line">                row[<span class="string">&quot;Y坐标&quot;</span>] = node.Y;</span><br><span class="line">                row[<span class="string">&quot;圆曲线半径&quot;</span>] = node.R;</span><br><span class="line">                row[<span class="string">&quot;缓曲线长&quot;</span>] = node.L;</span><br><span class="line">                table.Rows.Add(row);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//显示终点坐标</span></span><br><span class="line">            row = table.NewRow();</span><br><span class="line">            row[<span class="string">&quot;点号&quot;</span>] = points[<span class="number">1</span>].id;</span><br><span class="line">            row[<span class="string">&quot;X坐标&quot;</span>] = points[<span class="number">1</span>].X;</span><br><span class="line">            row[<span class="string">&quot;Y坐标&quot;</span>] = points[<span class="number">1</span>].Y;</span><br><span class="line">            table.Rows.Add(row);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> table;	<span class="comment">// table</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> 打开ToolStripMenuItem_Click(<span class="built_in">object</span> sender, EventArgs e)</span><br><span class="line">        &#123;</span><br><span class="line">            Readtxt();</span><br><span class="line">            dataGridView1.DataSource = ShowTable();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//插值间隔默认值为20</span></span><br><span class="line"></span><br><span class="line">            toolStripStatusLabel1.Text = <span class="string">&quot;读取成功&quot;</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h6 id="7-报告显示函数-较为统一"><a href="#7-报告显示函数-较为统一" class="headerlink" title="7. 报告显示函数(较为统一)"></a>7. 报告显示函数(较为统一)</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">Report</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">string</span> str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            str += <span class="string">&quot;----------------------------------------道路曲线计算报告----------------------------------------\n1、统计信息：\n\n    道路总长：&quot;</span></span><br><span class="line">                + Final.K.ToString(<span class="string">&quot;0.000m&quot;</span>) + <span class="string">&quot;\n    圆曲线数目：&quot;</span> + Final.curveNum + <span class="string">&quot;\n    缓曲面数目：&quot;</span> + Final.EcurveNum + <span class="string">&quot;\n\n2、曲线数据\n&quot;</span>;</span><br><span class="line">            <span class="built_in">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">foreach</span> (Node node <span class="keyword">in</span> nodes)</span><br><span class="line">            &#123;</span><br><span class="line">                str += <span class="string">&quot;\n    曲线名：&quot;</span> + node.id + <span class="string">&quot;\n\n&quot;</span>;</span><br><span class="line">                <span class="keyword">if</span> (node.L == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    Curve curve = Final.curves[i];</span><br><span class="line">                    i += <span class="number">1</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;转向角&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;半径&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;桩间距&quot;</span>)</span><br><span class="line">                        + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;切线长&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;曲线长&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;外矢距&quot;</span>)</span><br><span class="line">                        + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;切曲差&quot;</span>) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, rad2dms(Math.Abs(curve.alpha))) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, node.R.ToString(<span class="string">&quot;0m&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,15&#125;&quot;</span>, toolStripTextBox1.Text) + <span class="string">&quot;m&quot;</span></span><br><span class="line">                        + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.T.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.L.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.E.ToString(<span class="string">&quot;0.000m&quot;</span>))</span><br><span class="line">                        + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.q.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="string">&quot;\n\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;桩号&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;X坐标&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;Y坐标&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;里程&quot;</span>) +<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, <span class="string">&quot;ZY&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.ZY.X.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.ZY.Y.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.Kzy.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, <span class="string">&quot;QZ&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.QZ.X.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.QZ.Y.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.QZ.K.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, <span class="string">&quot;YZ&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.YZ.X.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.YZ.Y.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.Kyz.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, node.id) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, node.X.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, node.Y.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, curve.Kjd.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    Ecurve Ecurve = Final.ecurves[j];</span><br><span class="line">                    j += <span class="number">1</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;转向角&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;半径&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;桩间距&quot;</span>)</span><br><span class="line">                        + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;切线长&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;曲线长&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;外矢距&quot;</span>)</span><br><span class="line">                        + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;切曲差&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;缓外角&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;切垂距&quot;</span>) </span><br><span class="line">                        + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, <span class="string">&quot;内移量&quot;</span>) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,17&#125;&quot;</span>, rad2dms(Math.Abs(Ecurve.alpha))) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,12&#125;&quot;</span>, node.R.ToString(<span class="string">&quot;0m&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,15&#125;&quot;</span>, toolStripTextBox1.Text) + <span class="string">&quot;m&quot;</span></span><br><span class="line">                        + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.Th.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.Lh.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.Eh.ToString(<span class="string">&quot;0.000m&quot;</span>))</span><br><span class="line">                        + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.q.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,17&#125;&quot;</span>, rad2dms(Ecurve.beita0)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,13&#125;&quot;</span>, Ecurve.P.ToString(<span class="string">&quot;0.000m&quot;</span>)) </span><br><span class="line">                        + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.m.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="string">&quot;\n\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;桩号&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;X坐标&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;Y坐标&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;里程&quot;</span>) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, <span class="string">&quot;ZH&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.ZH.X.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.ZH.Y.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.Kzh.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, <span class="string">&quot;HY&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.HY.X.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.HY.Y.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.HY.K.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, <span class="string">&quot;QZ&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.QZ.X.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.QZ.Y.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.QZ.K.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, <span class="string">&quot;YH&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.YH .X.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.YH.Y.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.YH.K.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, <span class="string">&quot;HZ&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.HZ.X.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.HZ.Y.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.Khz.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                    str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, node.id) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, node.X.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, node.Y.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, Ecurve.Kjd.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            str +=<span class="string">&quot;\n3、定桩数据\n\n&quot;</span> + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;点名&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;X坐标&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;Y坐标&quot;</span>)</span><br><span class="line">                + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,14&#125;&quot;</span>, <span class="string">&quot;里程&quot;</span>) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,12&#125;&quot;</span>, <span class="string">&quot;曲线类型&quot;</span>) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            <span class="keyword">foreach</span>(Milepost milepost <span class="keyword">in</span> Final.mileposts)</span><br><span class="line">            &#123;</span><br><span class="line">                str += <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, milepost.id) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, milepost.X.ToString(<span class="string">&quot;0.000&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, milepost.Y.ToString(<span class="string">&quot;0.000&quot;</span>))</span><br><span class="line">                + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,16&#125;&quot;</span>, milepost.K.ToString(<span class="string">&quot;0.000m&quot;</span>)) + <span class="built_in">string</span>.Format(<span class="string">&quot;&#123;0,12&#125;&quot;</span>, milepost.belong) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> str;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h6 id="8-数据格式转换函数"><a href="#8-数据格式转换函数" class="headerlink" title="8. 数据格式转换函数"></a>8. 数据格式转换函数</h6><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">rad2dms</span>(<span class="params"><span class="built_in">double</span> rad</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">double</span> dms = rad / Math.PI * <span class="number">180.0</span>;</span><br><span class="line">            <span class="built_in">double</span> d = Math.Floor(dms);</span><br><span class="line">            <span class="built_in">double</span> m = Math.Floor((dms - d) * <span class="number">60.0</span>);</span><br><span class="line">            <span class="built_in">double</span> s = (dms - d - m / <span class="number">60.0</span>) * <span class="number">3600</span>;</span><br><span class="line">            <span class="keyword">return</span> d.ToString(<span class="string">&quot;0°&quot;</span>) + m.ToString(<span class="string">&quot;0′&quot;</span>) + s.ToString(<span class="string">&quot;0.00″&quot;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>



<h4 id="5-要求和总结"><a href="#5-要求和总结" class="headerlink" title="5. 要求和总结"></a>5. 要求和总结</h4><h5 id="要求："><a href="#要求：" class="headerlink" title="要求："></a>要求：</h5><h5 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h5></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">John Doe</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://example.com/2022/05/10/ch-pro-001/">http://example.com/2022/05/10/ch-pro-001/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/code-ch/">code_ch</a></div><nav id="pagination"><div class="next-post pull-right"><a href="/2022/05/07/hhh01/"><span>hhh01</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2022 By John Doe</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>